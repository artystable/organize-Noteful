{"ast":null,"code":"import _classCallCheck from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/src/AddNote/AddNote.js\";\nimport React, { Component } from 'react'; //import { format } from 'date-fns'\n\nimport NotesContext from '../NotesContext';\n\nvar AddNote =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddNote, _Component);\n\n  function AddNote(props) {\n    var _this;\n\n    _classCallCheck(this, AddNote);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddNote).call(this, props));\n    _this.state = {\n      noteName: '',\n      noteContent: '',\n      folder: '',\n      folderId: '',\n      validNoteMessage: '',\n      validNoteName: false,\n      validContentMessage: '',\n      validContent: false,\n      validFolderMessage: '',\n      validFolder: false,\n      datetime: new Date()\n    };\n    return _this;\n  }\n\n  _createClass(AddNote, [{\n    key: \"updateNoteName\",\n    value: function updateNoteName(name) {\n      var _this2 = this;\n\n      this.setState({\n        noteName: name\n      }, function () {\n        _this2.validateNoteName(name);\n      });\n    }\n  }, {\n    key: \"updateNoteContent\",\n    value: function updateNoteContent(content) {\n      var _this3 = this;\n\n      this.setState({\n        noteContent: content\n      }, function () {\n        _this3.validateNoteContent(content);\n      });\n    }\n  }, {\n    key: \"updateFolder\",\n    value: function updateFolder(name) {\n      var _this4 = this;\n\n      this.setState({\n        folder: name\n      }, function () {\n        _this4.validateFolder(name);\n      });\n    }\n  }, {\n    key: \"validateFolder\",\n    value: function validateFolder(name) {\n      var errorMsg = this.state.validFolderMessage;\n      var hasError = false;\n\n      if (this.context.folders.find(function (folder) {\n        return folder.name === name;\n      }) === undefined) {\n        errorMsg = 'Please select a valid folder';\n        hasError = true;\n      } else {\n        errorMsg = '';\n        hasError = false;\n      }\n\n      this.setState({\n        validFolderMessage: errorMsg,\n        validFolder: !hasError\n      });\n    }\n  }, {\n    key: \"validateNoteName\",\n    value: function validateNoteName(name) {\n      var errorMsg = this.state.validNoteMessage;\n      var hasError = false;\n      name = name.trim();\n\n      if (name.length < 3) {\n        errorMsg = 'Please enter a note name at least 3 characters long';\n        hasError = true;\n      } else {\n        errorMsg = '';\n        hasError = false;\n      }\n\n      this.setState({\n        validMessage: errorMsg,\n        validNoteName: !hasError\n      });\n    }\n  }, {\n    key: \"validateNoteContent\",\n    value: function validateNoteContent(content) {\n      var errorMsg = this.state.validContentMessage;\n      var hasError = false;\n      content = content.trim();\n\n      if (content.length < 3) {\n        errorMsg = 'Please enter content that is at least 3 characters long';\n        hasError = true;\n      } else {\n        errorMsg = '';\n        hasError = false;\n      }\n\n      this.setState({\n        validContentMessage: errorMsg,\n        valdContent: !hasError\n      });\n    }\n  }, {\n    key: \"addNoteRequest\",\n    value: function addNoteRequest(name, content, folderId, date, addNote) {\n      fetch('http://localhost:9090/notes', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name,\n          content: content,\n          modified: date,\n          folderId: folderId\n        })\n      }).then(function (res) {\n        if (!res.ok) {\n          throw new Error('Couldn\\'t add note. Sorry!');\n        }\n\n        return res.json();\n      }).then(function (res) {\n        return addNote(res);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      console.log(this.props);\n\n      this.handleSubmit = function (event) {\n        event.preventDefault();\n\n        _this5.addNoteRequest(_this5.state.noteName, _this5.state.noteContent, _this5.context.folders.find(function (folder) {\n          return folder.name === _this5.state.folder;\n        }).id, new Date(), addNote);\n      };\n\n      var addNote = this.context.addNote;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          return _this5.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \" Note Name\", React.createElement(\"input\", {\n        placeholder: \"Note name\",\n        onChange: function onChange(e) {\n          return _this5.updateNoteName(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \" Note content\", React.createElement(\"input\", {\n        placeholder: \"Note content\",\n        onChange: function onChange(e) {\n          return _this5.updateNoteContent(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" Folder Name\", React.createElement(\"input\", {\n        placeholder: \"Folder name\",\n        onChange: function onChange(e) {\n          return _this5.updateFolder(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Submit\")), !this.state.validNoteName ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, this.state.validNoteMessage) : React.createElement(React.Fragment, null), !this.state.validContent ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.validContentMessage) : React.createElement(React.Fragment, null), !this.state.validFolder ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, this.state.validFolderMessage) : React.createElement(React.Fragment, null, \" \"));\n    }\n  }]);\n\n  return AddNote;\n}(Component);\n\nAddNote.contextType = NotesContext;\nexport { AddNote as default };","map":{"version":3,"sources":["/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/src/AddNote/AddNote.js"],"names":["React","Component","NotesContext","AddNote","props","state","noteName","noteContent","folder","folderId","validNoteMessage","validNoteName","validContentMessage","validContent","validFolderMessage","validFolder","datetime","Date","name","setState","validateNoteName","content","validateNoteContent","validateFolder","errorMsg","hasError","context","folders","find","undefined","trim","length","validMessage","valdContent","date","addNote","fetch","method","headers","body","JSON","stringify","modified","then","res","ok","Error","json","catch","err","console","log","handleSubmit","event","preventDefault","addNoteRequest","id","e","updateNoteName","target","value","updateNoteContent","updateFolder","contextType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\n//import { format } from 'date-fns'\nimport NotesContext from '../NotesContext';\n\nexport default class AddNote extends Component {\n  constructor(props) {\n    super(props)\n    this.state ={\n      noteName: '',\n      noteContent: '',\n      folder: '',\n      folderId: '',\n      validNoteMessage: '',\n      validNoteName: false,\n      validContentMessage: '',\n      validContent: false,\n      validFolderMessage: '',\n      validFolder: false,\n      datetime: new Date()\n    }\n  }\n\n  static contextType = NotesContext;\n\n  updateNoteName(name){\n    this.setState({noteName: name}, () => {this.validateNoteName(name)})\n  }\n  \n  updateNoteContent(content){\n    this.setState({noteContent: content}, () => {this.validateNoteContent(content)})\n  }\n\n  updateFolder(name){\n    this.setState({folder: name}, () => {this.validateFolder(name)})\n  }\n\n  validateFolder(name){\n    let errorMsg = this.state.validFolderMessage;\n    let hasError = false;\n    if(this.context.folders.find((folder) => folder.name === name) === undefined){\n      errorMsg = 'Please select a valid folder'\n      hasError = true;\n    } else {\n      errorMsg = '';\n      hasError = false;\n    }\n      this.setState({\n        validFolderMessage: errorMsg,\n        validFolder: !hasError\n    })\n  }\n\n  validateNoteName(name){\n    let errorMsg = this.state.validNoteMessage;\n    let hasError = false;\n    name = name.trim();\n    if(name.length < 3){\n      errorMsg = 'Please enter a note name at least 3 characters long';\n      hasError = true;\n    } else {\n      errorMsg = '';\n      hasError = false;\n    }\n    this.setState({\n      validMessage: errorMsg, \n      validNoteName: !hasError\n    })\n  }\n\n  validateNoteContent(content){\n    let errorMsg = this.state.validContentMessage;\n    let hasError = false;\n    content = content.trim();\n    if(content.length < 3){\n      errorMsg = 'Please enter content that is at least 3 characters long';\n      hasError = true;\n    } else {\n      errorMsg = '';\n      hasError = false;\n    }\n    this.setState({\n      validContentMessage: errorMsg,\n      valdContent: !hasError\n    })\n  }\n\n  addNoteRequest(name, content, folderId, date, addNote){\n    fetch('http://localhost:9090/notes', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({name: name, content: content, modified: date, folderId: folderId})\n    })\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Couldn\\'t add note. Sorry!')\n      }\n      return res.json();\n    })\n    .then(res => addNote(res))\n    .catch(err => console.log(err))\n  }\n\n  render(){\n    console.log(this.props)\n\n\n    this.handleSubmit= (event) => {\n    event.preventDefault();\n    this.addNoteRequest(this.state.noteName, this.state.noteContent, this.context.folders.find((folder) => folder.name === this.state.folder).id\n    , new Date(), addNote)\n  }\n\n    const { addNote } = this.context\n\n    return(\n      <div>\n        <form onSubmit= {(event) => this.handleSubmit(event)}>\n          <label > Note Name\n            <input placeholder = \"Note name\" onChange = {(e) => this.updateNoteName(e.target.value)}></input>\n          </label>\n          <label> Note content\n            <input placeholder = \"Note content\" onChange = {(e) => this.updateNoteContent(e.target.value)}></input>\n          </label>\n          <label> Folder Name\n            <input placeholder = \"Folder name\" onChange = {(e) => \n            this.updateFolder(e.target.value)}>\n            </input>\n          </label>\n          <button type=\"submit\">Submit</button>\n        </form>\n        {!this.state.validNoteName ? <p>{this.state.validNoteMessage}</p> : <></>}\n        {!this.state.validContent ? <p>{this.state.validContentMessage}</p>: <></>}\n        {!this.state.validFolder ? <p>{this.state.validFolderMessage}</p> : <> </>}\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}