{"ast":null,"code":"import _classCallCheck from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/src/AddFolder/AddFolder.js\";\nimport React, { Component } from 'react';\nimport ValiationError from './ValidationError';\nimport NotesContext from '../NotesContext';\n\nvar AddFolder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddFolder, _Component);\n\n  function AddFolder(props) {\n    var _this;\n\n    _classCallCheck(this, AddFolder);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddFolder).call(this, props));\n    _this.state = {\n      name: '',\n      folderValid: false,\n      validMessage: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddFolder, [{\n    key: \"updateFolder\",\n    value: function updateFolder(name) {\n      var _this2 = this;\n\n      this.setState({\n        name: name\n      }, function () {\n        _this2.validateFolder(name);\n      });\n    }\n  }, {\n    key: \"validateFolder\",\n    value: function validateFolder(inputValue) {\n      var errorMsg = this.state.validMessage;\n      var hasError = false;\n      inputValue = inputValue.trim();\n\n      if (inputValue.length === 0) {\n        errorMsg = 'Folder Name is required';\n        hasError = true;\n      } else if (inputValue.length < 3) {\n        errorMsg = 'Folder Name must be at least 3 characters';\n        hasError = true;\n      } else {\n        errorMsg = '';\n        hasError = false;\n      }\n\n      this.setState({\n        validMessage: errorMsg,\n        folderValid: !hasError\n      });\n    }\n  }, {\n    key: \"addFolderRequest\",\n    value: function addFolderRequest(name, addFolder) {\n      fetch(\"http://localhost:9090/folders\", {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name\n        })\n      }).then(function (res) {\n        if (!res.ok) {\n          throw new Error('Unable to add folder to database');\n        }\n\n        return res.json();\n      }).then(function (res) {\n        return addFolder(res);\n      }).catch(function (err) {\n        return console.log(name, err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.props);\n      var addFolder = this.context.addFolder;\n\n      this.handleSubmit = function (event) {\n        event.preventDefault();\n        console.log(addFolder);\n\n        _this3.addFolderRequest(_this3.state.name, addFolder);\n      };\n\n      return React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this3.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Add Folder:\", React.createElement(\"input\", {\n        onChange: function onChange(e) {\n          return _this3.updateFolder(e.target.value);\n        },\n        type: \"text\",\n        name: \"addFolder\",\n        id: \"addFolder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(ValiationError, {\n        hasError: !this.state.folderValid,\n        message: this.state.validMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: !this.state.folderValid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Submit\"));\n    }\n  }]);\n\n  return AddFolder;\n}(Component);\n\nAddFolder.contextType = NotesContext;\nexport { AddFolder as default };","map":{"version":3,"sources":["/Users/jerrysmacbook/Desktop/WebDev/oranize-noteful/src/AddFolder/AddFolder.js"],"names":["React","Component","ValiationError","NotesContext","AddFolder","props","state","name","folderValid","validMessage","setState","validateFolder","inputValue","errorMsg","hasError","trim","length","addFolder","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","catch","err","console","log","context","handleSubmit","event","preventDefault","addFolderRequest","e","updateFolder","target","value","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ValiationError from './ValidationError';\nimport NotesContext from '../NotesContext';\n\nexport default class AddFolder extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {   \n      name: '',\n      folderValid: false,\n      validMessage: ''\n    }\n  }\n  \n  static contextType = NotesContext;\n\n  updateFolder(name) {\n    this.setState( {name: name}, () => {this.validateFolder(name)} )\n  }\n\n  validateFolder(inputValue) {\n    let errorMsg = this.state.validMessage;\n    let hasError = false;\n\n    inputValue = inputValue.trim();\n    if (inputValue.length === 0) {\n      errorMsg = 'Folder Name is required';\n      hasError = true;\n\n    } else if (inputValue.length < 3) {\n      errorMsg = 'Folder Name must be at least 3 characters';\n      hasError = true;\n\n    } else {\n      errorMsg = '';\n      hasError = false;\n    }\n\n    this.setState({\n      validMessage: errorMsg,\n      folderValid: !hasError\n    })\n\n  }\n\n  addFolderRequest(name, addFolder) {\n    fetch(`http://localhost:9090/folders`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({name: name})\n    })\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Unable to add folder to database')\n      }\n      return res.json();\n    })\n    .then(res => addFolder(res))\n    .catch(err => console.log(name, err))\n  }\n\n  render() {\n    console.log(this.props)\n\n    const { addFolder } = this.context\n\n    this.handleSubmit = (event) => {\n      event.preventDefault();\n      console.log(addFolder)\n      this.addFolderRequest(this.state.name, addFolder);\n    }\n\n    return (\n      <form onSubmit={ (e) => this.handleSubmit(e) }>\n        <label>Add Folder: \n          <input onChange={ (e) => this.updateFolder(e.target.value) } type=\"text\" name=\"addFolder\" id=\"addFolder\"></input>\n        </label>\n        <ValiationError hasError={!this.state.folderValid} message={this.state.validMessage}/>\n        <button type=\"submit\" disabled={!this.state.folderValid}>Submit</button>\n      </form>\n    )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}